layout: post
title: 正则表达式（python）
category: Python
tags: [python,regex]
keywords:
description:
---

## re方法
### re.search()
`re.search(pattern,string,flags=0)`
例：`re.search(r'love','I love you')`

### re.findall()

返回一个符合pattern的全部字符的list。


## 正则Pattern

`\d`：匹配数字
`\D`:与`\d`相反，相当于`[^0-9]`
`\s`：匹配任何空白字符（包含空格，换行符，制表符等），相当于`[\t\n\r\f\v]`
`\S`：与上相反
`\w`匹配任何单词字符
`\W`与上相反
`\b`匹配单词的开始或者结束
`\B`与上相反

`.`：匹配除换行符以外的任何字符

`|`：或

`*`:匹配前面的表达式0次或者而多次=={0,}
`+`:匹配前面的表达式1次或者多次=={1,}
`?`:匹配前面的表达式0次或者1次=={0,1}

`\`:
1.转义字符
2.类似于`\d`这种用途
3.引用序号对应的子组所对应的字符串(两位数)
`r'(ABC)(.com)\2'匹配的就是'ABC.com.com’`
4.(三位数，首位可为0)表示八进制数所代表的ASCII码

`[..]`:字符类，匹配所包含的任意一个字符


`^`:
1.匹配字符串的开始位置
2.如果设置了re.MULTILINE标志，则表示换行符之后的位置
3.取反，只能放在最开头。若不在最开头，则表示`^`本身。

`%`：
1.匹配字符串的结束位置，
2.如果设置了re.MULTILINE标志，则表示换行符之前的位置

`{M,N}`：匹配前面的内容M~N次

`[a-z]`：匹配a-z


`ab{3}z`:匹配abbbc

`ab{3,10}c`：匹配a(3-10个)bc

## 贪婪与非贪婪

默认是贪婪模式（在符合条件下尽可能多的匹配）：

```python
res=re.search(r'ABC{2,8}','ABCCCCCC')
print(res)

<_sre.SRE_Match object; span=(0, 8), match='ABCCCCCC'>
```

可以利用`?`变为非贪婪模式

## 例子

### 匹配ip地址

`res=re.search(r'((\d\d|\d|1\d\d|2[0-4]\d|25[0-5])\.){3}((\d\d|\d|1\d\d|2[0-4]\d|25[0-5]))','2.1.1.1')`


相关博客：[Python3如何优雅地使用正则表达式](http://bbs.fishc.com/thread-57073-1-1.html)

[Python3正则表达式特殊符号及用法](http://bbs.fishc.com/forum.php?mod=viewthread&tid=57691&extra=page%3D1%26filter%3Dtypeid%26typeid%3D403)